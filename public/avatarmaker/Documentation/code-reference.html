<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		
		<meta name="author" content="MakeMake">
		<link rel="shortcut icon" href="./img/favicon.ico">
		<title>Code Reference - AvatarMaker</title>
		<link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700' rel='stylesheet' type='text/css'>
		<link href="https://use.fontawesome.com/releases/v5.0.2/css/all.css" rel="stylesheet">

		<link rel="stylesheet" href="./css/theme.css" type="text/css" />
		<link rel="stylesheet" href="./css/highlight.css">
		
		<script>
			// Current page data
			var mkdocs_page_name = "Code Reference";
			var mkdocs_page_input_path = "code-reference.md";
			var mkdocs_page_url = "/code-reference.html";
		</script>
		

		<script src="./js/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="./js/highlight.pack.js"></script> 
		
	</head>

	<body>
		<header class="responsiveMenu"><i class="fas fa-bars menuIcon" id="menuToggle"></i> <img src="./img/logo.svg"></header>
		<div class="responsiveMenuOverlay"></div>
		<aside class="sidebar">
			<header class="sidebar-header">
				<a href="index.html" class="header-homelink"><img src="./img/logo.svg"><!--<i class="fa fa-home"></i> AvatarMaker--></a>
					<!--<div class="header-search">
	<i class="fa fa-search"></i>
	<form action="./search.html" method="get">
		<input type="text" name="" placeholder="Search Documentation" />
	</form>
</div>-->
			</header>
			<ul class="sidebar-navigation">
				
				<li class="">
					
    <a class="" href="index.html">Introduction</a>



				</li>
				
				<li class="">
					
    <a class="" href="quick-start.html">Quick Start</a>



				</li>
				
				<li class="">
					
    <a class="" href="configuration.html">Advanced Configuration</a>



				</li>
				
				<li class="">
					
    <a class="" href="api.html">REST API</a>



				</li>
				
				<li class="">
					
    <a class="" href="skins.html">Skins</a>



				</li>
				
				<li class="">
					
    <a class="" href="custom-items.html">Custom Items and Layers</a>



				</li>
				
				<li class="">
					
    <a class="" href="language.html">Custom Language</a>



				</li>
				
				<li class="current">
					
    <a class="current" href="code-reference.html">Code Reference</a>
            <ul class="navigation-toc">

    <li><a href="#code-examples">Code Examples</a></li>
    
        <ul>
        
            <li><a href="#outappconfig">outAppConfig()</a></li>
        
            <li><a href="#setavatar">setAvatar()</a></li>
        
            <li><a href="#setavatarmd5">setAvatarMd5()</a></li>
        
            <li><a href="#setavatarget">setAvatarGET()</a></li>
        
            <li><a href="#renderavatar">renderAvatar()</a></li>
        
        </ul>
    

</ul>



				</li>
				
				<li class="">
					
    <a class="" href="faqs.html">FAQs and Known Issues</a>



				</li>
				
			</ul>

		</aside>

		<div class="content-wrapper">
			<ul class="breadcrumbs">
	<li><a href="index.html">Docs</a> <i class="fa fa-angle-right arrow"></i></li>
	
	  
	
	<li>Code Reference</li>


<li class="link-left">
	<a href="https://inochiteam.com/documentation/avatarmaker/" target="_blank"><i class="fa fa-link"></i> View Online</a>
</li>


</ul>

            
               <h1 id="code-examples">Code Examples<a class="headerlink" href="#code-examples" title="Permanent link">&para;</a></h1>
<p>This section of the documentation is targeted towards programmers with PHP experience. It will help you understand how the avatarMaker backend works and how you can integrate it into an existing application.</p>
<p>Only publicly available methods are described here, as the others can't be used outside the class scope.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The avatarMaker is in continuous development based on user's feedback and necessities. For this reason, all the methods and functions discussed here may change in future releases.</p>
</div>
<h3 id="outappconfig">outAppConfig()<a class="headerlink" href="#outappconfig" title="Permanent link">&para;</a></h3>
<h4 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h4>
<p>This function will generate or load the configuration file and all the preview images.
The generated data will be saved into the cache folder and it will be served from the disk for all the subsequent calls.</p>
<p>After calling this function, it will set the appropriate headers for JSON data, send the configuration and close the connection.</p>
<h4 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h4>
<p>No Parameters</p>
<h4 id="return">Return<a class="headerlink" href="#return" title="Permanent link">&para;</a></h4>
<p>No Return</p>
<h4 id="code-example">Code Example<a class="headerlink" href="#code-example" title="Permanent link">&para;</a></h4>
<pre><code class="language-php">public function outAppConfig( ) { ... }
</code></pre>
<h3 id="setavatar">setAvatar()<a class="headerlink" href="#setavatar" title="Permanent link">&para;</a></h3>
<h4 id="description_1">Description<a class="headerlink" href="#description_1" title="Permanent link">&para;</a></h4>
<p>This function loads an avatar tree into the class memory. The JSON data can be passed through a paramether or, if this is empty, the function will try to load it from <code>php://input</code>.</p>
<h4 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Type</th>
<th align="center"></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$json</td>
<td align="center"><code>string</code></td>
<td align="center"><code>optional</code></td>
<td>A JSON encoded avatar tree</td>
</tr>
</tbody>
</table>
<h4 id="return_1">Return<a class="headerlink" href="#return_1" title="Permanent link">&para;</a></h4>
<p><code>true</code> in case of success, <code>false</code> otherwise.</p>
<h4 id="code-example_1">Code Example<a class="headerlink" href="#code-example_1" title="Permanent link">&para;</a></h4>
<pre><code class="language-php">public function setAvatar( $json = false ) { ... }
</code></pre>
<h3 id="setavatarmd5">setAvatarMd5()<a class="headerlink" href="#setavatarmd5" title="Permanent link">&para;</a></h3>
<h4 id="description_2">Description<a class="headerlink" href="#description_2" title="Permanent link">&para;</a></h4>
<p>This function will generate an avatar tree based on the given MD5 string.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For a given hash, this will generate always with the same avatar, but if the content of the assets folder is changed, the generated avatar for the same hash will change!</p>
</div>
<h4 id="parameters_2">Parameters<a class="headerlink" href="#parameters_2" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Type</th>
<th align="center"></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$md5</td>
<td align="center"><code>string</code></td>
<td align="center"><code>required</code></td>
<td>A valid MD5 string</td>
</tr>
</tbody>
</table>
<h4 id="return_2">Return<a class="headerlink" href="#return_2" title="Permanent link">&para;</a></h4>
<p><code>true</code> in case of success, <code>false</code> otherwise.</p>
<h4 id="code-example_2">Code Example<a class="headerlink" href="#code-example_2" title="Permanent link">&para;</a></h4>
<pre><code class="language-php">public function setAvatarMd5( $md5 ) { ... }
</code></pre>
<h3 id="setavatarget">setAvatarGET()<a class="headerlink" href="#setavatarget" title="Permanent link">&para;</a></h3>
<h4 id="description_3">Description<a class="headerlink" href="#description_3" title="Permanent link">&para;</a></h4>
<p>Generates an avatar tree based on GET data. If the supplied data is only partial it will generate an incomplete avatar tree (It can still be rendered).</p>
<h4 id="parameters_3">Parameters<a class="headerlink" href="#parameters_3" title="Permanent link">&para;</a></h4>
<p>No Parameters</p>
<h4 id="return_3">Return<a class="headerlink" href="#return_3" title="Permanent link">&para;</a></h4>
<p>No Return</p>
<h4 id="code-example_3">Code Example<a class="headerlink" href="#code-example_3" title="Permanent link">&para;</a></h4>
<pre><code class="language-php">public function setAvatarGET( ){ ... }
</code></pre>
<h3 id="renderavatar">renderAvatar()<a class="headerlink" href="#renderavatar" title="Permanent link">&para;</a></h3>
<h4 id="description_4">Description<a class="headerlink" href="#description_4" title="Permanent link">&para;</a></h4>
<h4 id="parameters_4">Parameters<a class="headerlink" href="#parameters_4" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Type</th>
<th align="center"></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$savePath</td>
<td align="center"><code>string</code></td>
<td align="center"><code>optional</code></td>
<td>A writable path (relative or absolute) with file name and extension <em>(ex. /test/image.png)</em></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>savePath</code> will be ignored if the <code>renderer_format</code> key in the configuration is not set to one of the <code>_saved</code> options. If it is, this parameter is required for saving the avatar.</p>
</div>
<h4 id="code-example_4">Code Example<a class="headerlink" href="#code-example_4" title="Permanent link">&para;</a></h4>
<pre><code class="language-php">public function renderAvatar( $savePath = false ) { ... }
</code></pre>
            
		</div>
			<script>var base_url = '.';</script>
			<script src="./js/theme.js"></script>
			  <script src="search/main.js"></script>


		<script>
			var elm_body = document.getElementsByTagName("body")[0];
			var elm_sidebar = document.getElementsByClassName("sidebar")[0];
			var elm_overlay = document.getElementsByClassName("responsiveMenuOverlay")[0];



			document.getElementById("menuToggle").addEventListener("click", function( event ) {
				menuDiplay( true, true );
			}, false);


			elm_overlay.addEventListener("click", function( event ) {
				menuDiplay( false, false );
			}, false);

			if( window.matchMedia("(min-width: 60em)").matches )
			{
				menuDiplay( true, false );
			}

			window.addEventListener("resize", function(){

				if( window.matchMedia("(min-width: 60em)").matches )
				{
					menuDiplay( true, false );
				}
				else
				{
					menuDiplay( false, false );
				}

			});

			function menuDiplay( sidebar , overlay )
			{
				if( sidebar )
					elm_sidebar.style.left = "0";
				else
					elm_sidebar.style.left = "-31rem";

				if( overlay )
					elm_overlay.style.display = "block";
				else
					elm_overlay.style.display = "none";
			}

		</script>

	</body>
</html>
