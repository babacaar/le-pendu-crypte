{% extends 'base.html.twig' %}
{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/edit-profile.css') }}">
{% endblock %}
{% block title %}✏️ Modifier mon profil - Le Pendu Crypté
{% endblock %}

{% block meta_description %}
	Mettez à jour vos informations personnelles, votre avatar et vos préférences sur Le Pendu Crypté.
{% endblock %}

{% block og_title %}Édition du profil - Le Pendu Crypté
{% endblock %}
{% block og_description %}
	Accédez à la page de modification de profil pour personnaliser votre expérience de jeu.
{% endblock %}


{% block body %}
	<div class="profile-container">
		<div class="profile-box">
			<h2>Modifier mon profil</h2>

			{% include "/fragments/_flash_message.html.twig" %}
			{{ form_start(formProfile, {'attr': {'id': 'edit-profile-form'}}) }}

			<div class="form-group">
				{{ form_label(formProfile.firstname, null, {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(formProfile.firstname, {'attr': {'class': 'profile-input'}}) }}
				{{ form_errors(formProfile.firstname) }}
			</div>

			<div class="form-group">
				{{ form_label(formProfile.lastname, null, {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(formProfile.lastname, {'attr': {'class': 'profile-input'}}) }}
				{{ form_errors(formProfile.lastname) }}
			</div>

			<div class="form-group">
				{{ form_label(formProfile.pseudo, null, {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(formProfile.pseudo, {'attr': {'class': 'profile-input'}}) }}
				<small id="pseudo-availability" class="pseudo-check"></small>
				{{ form_errors(formProfile.pseudo) }}
			</div>

			<div class="form-group">
				{{ form_label(formProfile.birthday, null, {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(formProfile.birthday, {'attr': {'class': 'profile-input'}}) }}
				{{ form_errors(formProfile.birthday) }}
			</div>

			<div class="form-buttons">
				<button type="submit" class="btn-save">Enregistrer</button>
				<a href="{{ path('app_profile') }}" class="btn-cancel">Annuler</a>
			</div>

			{{ form_end(formProfile) }}
		</div>
	</div>
	<script>
		var checkPseudoUrl = "{{ path('app_check_pseudo') }}";
	</script>
	{% block javascripts %}
		<script src="{{asset('js/PseudoAvailability.js')}}"></script>
	{% endblock %}
{% endblock %}
